byte noon_hour[31][28][31][30][31][30][31][31][30][31][30][31] = {/
{12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12},/
{12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 0, 0, 0},/
{12,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},/
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},/
{1, 1, 1, 1, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 0},/
{12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12}
};

const int noon_minute[31][28][31][30][31][30][31][31][30][31][30][31] = /
{21,21,22,22,23,23,24,24,25,25,25,26,26,26,27,27,28,28,28,28,29,29,29,30,30,30,30,30,31,31,31},
{31,31,31,31,32,32,32,32,32,32,32,32,32,32,32,32,31,31,31,31,31,31,31,31,30,30,30,30,0,0,0},
{30,30,29,29,29,29,28,28,28,28,27,27,27,27,26,26,26,25,25,25,25,24,24,24,23,23,23,22,22,22,22},
{21,21,21,20,20,20,20,19,19,19,18,18,18,18,17,17,17,17,17,16,16,16,16,16,15,15,15,15,15,15,0},
{15,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15},
{15,16,16,16,16,16,16,17,17,17,17,17,18,18,18,18,19,19,19,19,19,20,20,20,20,20,21,21,21,21,0},
{21,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24},
{24,24,24,24,23,23,23,23,23,23,23,22,22,22,22,22,21,21,21,21,21,20,20,20,19,19,19,19,18,18,18},
{17,17,17,16,16,16,15,15,15,14,14,14,13,13,13,12,12,12,11,11,10,10,10,9,9,9,8,8,8,7,0},
{7,7,6,6,6,6,5,5,5,4,4,4,4,3,3,3,3,3,2,2,2,2,2,2,2,1,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,6,6,6,0},
{7,7,7,8,8,9,9,10,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,20,21};


    //control variables
  const int sunrise_hour[] = {7,};
  const int sunrise_minute[] = {45,};
  const int sunset_hour[] = {17};
  const int sunset_minute[] = {15};
  volatile float days_since_2000 = 0 ;//5839
  volatile float Jdate = days_since_2000 + 2451545; // Julian date
  volatile float lw = 0;// West Longitude (75W = 75, 45E = -45)
  volatile float ln = 0;// North Latitude (35N = 35, 25S = -25)
  volatile float M = 0;// Mean Solar Anomaly
  volatile float n = 0;// Julian cycle since Jan 1, 2000
  volatile float C = 0;// Equation of center
  volatile float el = 0;// Ecliptical longitude of the sun
  volatile float dos = 0;// Declination of the sun
  volatile float H = 0;// Hour Angle (half the arc length of the sun)
  volatile float Jtransit = 0;// Julian date of solar noon on cycle n
  volatile float Jrise = 0;// Julian date of sunrise on cycle n
  volatile float Jset = 0;// Julian date of sunset on cycle n
  volatile float day();
  volatile float year();
  volatile float 